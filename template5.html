<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>Template 4</title>
<link href="jquery-mobile/jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="jquery-mobile/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="jquery-mobile/jquery.mobile-1.0.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="text-editor/text-editor/style.css">
	<link rel="stylesheet" href="text-editor/text-editor/codemirror.css">
	<link rel="stylesheet" href="text-editor/text-editor/simple-hint.css">	
	<script type="text/javascript" src="text-editor/text-editor/codemirror.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/javascript.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/css.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/xml.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/htmlmixed.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/simple-hint.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/zen_codemirror.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/downloadify.min.js"></script>
	<script type="text/javascript" src="text-editor/text-editor/swfobject.js"></script>
    
    
</head> 
<body> 


	<div data-role="page" id="page">
<div data-role="header">
  <a href="index.html/#page3" data-role="button" data-icon="arrow-l" data-iconpos="notext">Button</a>
    
    <h1>Header</h1>
  </div>
  <div data-role="content">
<div id="toolbar">
			<div id="editor-toolbar">
				<h2 align="center"><span class="icon"></span>Editor</h2>
				<ul>
					<li id="download">Download</li>
				</ul>
			</div>
			
	</div>

		<div class="clearfix"></div>
	
	<div id="ide">
		<div id="editor">
			<div class="container">
				<textarea name="editor" id="editor-area" >
<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile Web App</title>
<link href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="http://code.jquery.com/jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js" type="text/javascript"></script>
    
</head> 
<body> 

<div data-role="page" id="page">
	<div data-role="header">
		<h1>Page One</h1>
	</div>
	<div data-role="content">	
		<ul data-role="listview">
			<li><a href="#page2">Page Two</a></li>
            <li><a href="#page3">Page Three</a></li>
			<li><a href="#page4">Page Four</a></li>
		</ul>		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

<div data-role="page" id="page2">
	<div data-role="header">
     <a href="#page" data-role="button" data-icon="arrow-l" data-iconpos="notext">Button</a>
		<h1>Page Two</h1>
	</div>
	<div data-role="content">	
		Content		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

<div data-role="page" id="page3">

	<div data-role="header">
    <a href="#page" data-role="button" data-icon="arrow-l" data-iconpos="notext">Button</a>
		<h1>Page Three</h1>
	</div>
	<div data-role="content">	
		Content		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

<div data-role="page" id="page4">
	<div data-role="header">
    <a href="#page" data-role="button" data-icon="arrow-l" data-iconpos="notext">Button</a>
		<h1>Page Four</h1>
	</div>
	<div data-role="content">	
		Content		
	</div>
	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
</div>

</body>
</html>

               
                
                </textarea>
			</div>
		</div>
        <div id="preview-toolbar" align="center" style="background:#999">
				<h2><span class="icon"></span>Preview</h2>
			</div>
		<div id="preview">
        
			<div class="container">
				<iframe src frameborder="0" id="preview-area"></iframe>
			</div>
		</div>
          <div data-role="footer">
<div data-role="navbar">  
        <ul>  
              
            <li><a href="#" data-rel="external" data-icon="info">Information </a></li>  
              
        </ul>  
    </div>   
	</div>

	<script type="text/javascript">
	
      var editor = CodeMirror.fromTextArea(document.getElementById('editor-area'), {
        mode: 'text/html',
        tabSize:8,
        indentUnit:8,
        matchBrackets: true,
        lineNumbers:true,
        onChange: function() {
          clearTimeout(delay);
          delay = setTimeout(updatePreview, 300);
        },
       	onKeyEvent: function() {
			return zen_editor.handleKeyEvent.apply(zen_editor, arguments);
		}
      });
      
      function updatePreview() {
        var previewFrame = document.getElementById('preview-area');
        var preview =  previewFrame.contentDocument ||  previewFrame.contentWindow.document;
        preview.open();
        preview.write(editor.getValue());
        preview.close();
      }
      setTimeout(updatePreview, 300);
    	
	Downloadify.create('download',{
    filename: "index.html",
    data: function(){
    return editor.getValue();
    },
    onComplete: function(){
    alert('Your file has been saved!');
    },
    onCancel: function(){
    alert('You have cancelled the saving of this file.');
    },
    onError: function(){
    alert('You must put something in the File Contents or there will be nothing to save!');
    },
    transparent: false,
    swf: 'downloadify.swf',
    downloadImage:'download.png',
    width: 100,
    height: 30,
    transparent: true,
    append: false
    });
	</script>
    



</body>
</html>